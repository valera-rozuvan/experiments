/*
 * Copyright 2012-2017 Valera Rozuvan
 * http://javascript-experiments.net
 */
define("showHideGitHubRibbon",["jquery"],function(e){function t(){require(["jquery_ui"],function(t){e(window).width()<=1e3?e(".forkme_github").hide("slide",{direction:"left"},750):e(".forkme_github").show("slide",{direction:"left"},750)})}function n(){e(window).width()<=1e3?e(".forkme_github").hide():e(".forkme_github").show()}return e.browser.msie===!0?(e(window).on("resize",n),n):(e(window).on("resize",t),t)}),define("hotfix",[],function(){return function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1})}}),define("logme",["jquery"],function(e){function o(){var t,u,a,f,l,c,h,p,d;if(i===!0)return;i=!0;if(s!==!0){i=!1,setTimeout(o,50);return}h=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&apos;"]],u={width:e(window).width(),height:e(window).height()},a={width:800,height:400},u.width*.8<a.width&&(a.width=u.width*.8),u.height*.8<a.height&&(a.height=u.height*.8),a.left=.5*(u.width-a.width),a.top=.5*(u.height-a.height),r.css("height",a.height-55+"px"),f=e('<div class="debugWindowMessages"></div>'),d=n.length;for(t=0;t<d;t+=1){c=n[t];for(p in h)c=c.replace(h[p][0],h[p][1]);f.append(t+": "),c.length<=100?f.append(c+"<br />"):f.append('<br /><textarea rows="4" tabindex="-1" readonly="readonly">'+c+"</textarea>"+"<br />")}r.append(f),r.append('<div class="debugWindowInstructions">To open this dialog, [Ctrl + Click] on empty part of page.</div>'),l=e('<div class="debugWindowCloseIcon"><img src="images/close_icon.png" /></div>'),e.blockUI.defaults.css.cursor="default",e.blockUI({title:"logme() history",draggable:!0,theme:!0,css:{cursor:"default",left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",margin:"0px auto 0px auto",textAlign:"left"},overlayCSS:{cursor:"default"},themedCSS:{left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px"},message:r,onBlock:function(){e(".blockUI.blockMsg").children(".ui-dialog-titlebar").append(l),setTimeout(function(){f.scrollTop(f.prop("scrollHeight"))},100),l.click(function(){e.unblockUI()})},onUnblock:function(){r.empty(),i=!1}})}function u(){var e,r,s,u,a,f;u=1024,a="WARNING: Maximum object length ("+u+") for stringify reached! Not all "+"properties will be shown.";if(typeof t=="undefined"||t!==!0)return;for(e=0;e<arguments.length;e++)typeof window.console!="undefined"&&window.console.log(arguments[e]),s=[],r=0,typeof arguments[e]=="string"?n.push(arguments[e]):typeof arguments[e]=="function"?n.push(arguments[e].toString()):typeof arguments[e]=="undefined"?n.push("undefined"):(f=JSON.stringify(arguments[e],function(e,t){r+=1;if(r>=u)return undefined;if(typeof t=="object"){if(s.indexOf(t)>=0)return"[recursion]";s.push(t)}return t}),f===undefined?n.push("undefined"):f===null?n.push("null"):n.push(f)),r>=u&&(typeof window.console!="undefined"&&window.console.log(a),n.push(a));i===!1&&setTimeout(function(){o()},50)}function a(){t=!0}function f(){t=!1}var t,n,r,i,s;return t=!0,s=!1,require(["jquery_ui"],function(e){require(["jquery_block_ui"],function(e){s=!0})}),u.enable=a,u.disable=f,n=[],r=e("<div />"),i=!1,e(document).click(function(t){var n;t.ctrlKey&&(n=e(t.target)[0].tagName.toLowerCase(),(n==="html"||n==="body")&&i===!1&&o())}),e(document).keyup(function(t){t.keyCode==27&&i===!0&&e.unblockUI()}),u}),define("Controller",["jquery"],function(e){function t(t){var r,i;i=e(".page").children(".module"),i.length===0?n(t):(r=i.length,i.each(function(i,s){e(s).slideUp(500,function(){r-=1,r===0&&n(t)})}))}function n(t){e(".page").empty(),window.location.hash=t,e(".page").html("loading .."),require(["RunModules"],function(e){e(t)})}function r(){e(".experiment_link").each(function(n,r){var i,s;i=e(r).attr("data-src_folder"),s=e(r).attr("data-click_attached"),typeof i=="string"&&typeof s!="string"&&(e(r).attr("data-click_attached","true"),e(r).on("click",function(){t(i)}))})}return{switchExperiment:t,attachClickEvents:r}}),define("Output",[],function(){function e(e,t){e.append("<p>"+t+"</p>")}function t(e,t){e.append(t)}function n(e){e.append("<br />")}function r(e,t){e.append("<pre>"+t+"</pre>")}function i(e,t){e.append("<pre><code>"+t+"</code></pre>")}function s(e){return Array.prototype.slice.call(e)}function o(){var e,t;return arguments.length<1?this:(e=this,t=s(arguments),function(){return e.apply(this,t.concat(s(arguments)))})}return Function.prototype.curry=o,{p:e,out:t,br:n,pre:r,preCode:i}}),define("ModuleDiv",["jquery","Controller","Output"],function(e,t,n){function r(t,r){var f,l;return l=e("<div>"),l.addClass("module"),f={el:l,addCaption:i,appendToPage:s,appendToSelector:o,prepare:u,publish:a,p:n.p.curry(l),out:n.out.curry(l),br:n.br.curry(l),preCode:n.preCode.curry(l)},l=e("<div>"),l.addClass("module_caption"),l.html(t),f.captionEl=l,l=e("<div>"),l.addClass("octocat"),l.html('<a href="https://github.com/valera-rozuvan/javascript-experiments/blob/master/'+r+'">'+'<img src="images/git_cat_icon.png" />'+"</a>"),l.appendTo(f.captionEl),f}function i(){this.captionEl.appendTo(this.el)}function s(){this.el.appendTo(".page")}function o(e){this.el.appendTo(e)}function u(){this.el.hide(),this.el.empty(),this.addCaption()}function a(e){typeof e=="string"?this.appendToSelector(e):this.appendToPage(),this.el.slideDown(500),t.attachClickEvents()}return r}),define("MathJaxLoader",["MathJax"],function(e){function t(t){e.Hub.Queue(["Typeset",e.Hub],t)}return e.Hub.Config({tex2jax:{inlineMath:[["\\(","\\)"]],processEnvironments:!1},asciimath2jax:{delimiters:[["\\$","\\$"]]}}),e.Hub.Configured(),{typeset:t}}),define("ExtMd",["showdown","MathJaxLoader"],function(e,t){function n(n,r){var i;i=new e.converter,this.moduleDiv.out(i.makeHtml(n)),this.moduleDiv.publish(),r===!0&&t.typeset(this.el)}return n}),define("RunModules",["jquery","logme","ModuleDiv","ExtMd","MathJaxLoader"],function(e,t,n,r,i){function s(i){require(["text!"+i+"/config.json"],function(s){function p(e){c=e.match(/^md!(.*)$/),c!==null?a.push("text!"+i+"/md/"+c[1]):a.push(i+"/js/"+e)}var o,u,a,f,l,c;if(typeof s!="string"){t('ERROR: While trying to retrieve the contents (text) from the "'+i+'/config.json" file, we did '+"not get a string."),e(".page").empty();return}try{o=JSON.parse(s)}catch(h){t('Something went wrong while parsing the configJson string. Most likely the file "'+i+'/config.json" was not found, and Require JS gave us '+"back an empty string. We do not continue.",'JSON.parse() returned with error message: "'+h.message+'".'),e(".page").empty();return}if(o.hasOwnProperty("to_run")===!1||e.isArray(o.to_run)===!1||o.to_run.length===0){t('ERROR: The file "'+i+'/config.json" does '+'not specify a "to_run" array, or it is empty.');return}a=[],f=[];for(u=0;u<o.to_run.length;u+=1)if(e.isPlainObject(o.to_run[u])===!0){if(o.to_run[u].hasOwnProperty("source")===!1||typeof o.to_run[u].source!="string"){t('ERROR: Missing "source" property!');return}p(o.to_run[u].source),l={description:"",githubLink:"",useMathJax:!1},o.to_run[u].hasOwnProperty("description")===!0&&typeof o.to_run[u].description=="string"&&(l.description=o.to_run[u].description),o.to_run[u].hasOwnProperty("githubLink")===!0&&typeof o.to_run[u].githubLink=="string"&&(l.githubLink=o.to_run[u].githubLink),o.to_run[u].hasOwnProperty("useMathJax")===!0&&typeof o.to_run[u].useMathJax=="string"&&o.to_run[u].useMathJax.toLowerCase()==="true"&&(l.useMathJax=!0),f.push(l),l=null}o.hasOwnProperty("name")===!0&&typeof o.name=="string"&&e(document).attr("title","JavaScript Experiments: "+o.name),require(a,function(){var t,i;e(".page").empty();for(t=0;t<arguments.length;t++)f[t]!==null&&(i={moduleDiv:n(f[t].description,f[t].githubLink)},i.moduleDiv.prepare(),typeof arguments[t]=="string"?r.call(i,arguments[t],f[t].useMathJax):arguments[t].call(i),i=null)});return})}return s}),requirejs.config({baseUrl:"experiments",paths:{jquery:"../js_vendor/jquery-1.8.3.min",jquery_ui:"../js_vendor/jquery-ui-1.9.2.custom.min",jquery_block_ui:"../js_vendor/jquery.blockUI.min",text:"../js_vendor/text.min",showdown:"../js_vendor/showdown.min",MathJax:"../js_vendor/mathjax/MathJax.js?config=TeX-MML-AM_HTMLorMML&delayStartupUntil=configured",flot:"../js_vendor/flot/jquery.flot",logme:"../js_author/logme",hotfix:"../js_author/hotfix",Output:"../js_author/output",ModuleDiv:"../js_author/module_div",RunModules:"../js_author/run_modules",Controller:"../js_author/controller",ContentManager:"../js_author/content_manager",pipeline:"../js_author/pipeline",showHideGitHubRibbon:"../js_author/show_hide_gh_ribbon",MathJaxLoader:"../js_author/mathjax_loader",ExtMd:"../js_author/ext/md"},shim:{showdown:{deps:[],exports:"Showdown"},MathJax:{deps:[],exports:"MathJax"},flot:{deps:["jquery"],exports:"jQuery.plot"},jquery_ui:{deps:["jquery"],exports:"jQuery.ui"}}}),requirejs(["showHideGitHubRibbon","hotfix","jquery","RunModules"],function(e,t,n,r){t(),e(),n.noConflict(),r("experiments_menu")}),define("main",function(){});
